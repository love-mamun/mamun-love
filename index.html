<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>爱情计时器</title>

<style>
:root {
  --primary-color: #8e44ad;
  --secondary-color: #9b59b6;
  --dark-color: #2c3e50;
  --light-color: #ecf0f1;
  --accent-color: #e74c3c;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Segoe UI', sans-serif;
  background: linear-gradient(135deg, var(--dark-color), #34495e);
  color: var(--light-color);
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  padding: 20px;
}

body.light {
  background: linear-gradient(135deg, #f5f7fa, #dfe6e9);
  color: #2c3e50;
}

.container {
  background: rgba(44, 62, 80, 0.9);
  padding: 40px;
  border-radius: 25px;
  text-align: center;
  max-width: 600px;
  width: 100%;
}

body.light .container {
  background: rgba(255, 255, 255, 0.95);
}

h1 {
  margin-bottom: 20px;
  font-size: 2.2rem;
  color: var(--secondary-color);
}

p {
  font-size: 1.2rem;
  margin-bottom: 30px;
}

.counter {
  font-size: 2.2rem;
  font-weight: bold;
  margin: 30px 0;
  color: var(--accent-color);
}

.btn-container {
  display: flex;
  gap: 15px;
  justify-content: center;
  flex-wrap: wrap;
}

button {
  padding: 12px 25px;
  border: none;
  border-radius: 50px;
  cursor: pointer;
  font-size: 1rem;
  color: #fff;
}

#themeToggle { background: #f39c12; color:#000; }
#notifyBtn { background: #2ecc71; }
#resetBtn { background: #e74c3c; }

.notification-info {
  margin-top: 20px;
  font-size: 1rem;
}
</style>
</head>

<body>

<div class="container">
  <!-- 标题 -->
  <h1>❤️ 爱上你的那一天</h1>

  <!-- 时间显示 -->
  <p><strong>2026年1月20日 00:00:00</strong></p>

  <div class="counter" id="counter">
    <div id="counterInner">正在加载...</div>
  </div>

  <div class="btn-container">
    <button id="themeToggle">深色 / 浅色</button>
    <button id="notifyBtn">通知</button>
    <button id="resetBtn">重置</button>
  </div>

  <div class="notification-info" id="notificationInfo"></div>
</div>

<script>
const counterInner = document.getElementById('counterInner');
const themeToggle = document.getElementById('themeToggle');
const notifyBtn = document.getElementById('notifyBtn');
const resetBtn = document.getElementById('resetBtn');
const notificationInfo = document.getElementById('notificationInfo');

/* 目标日期 */
const defaultDate = new Date("2026-01-20T00:00:00");
let targetDate = new Date(defaultDate);

function updateCounter() {
  const now = new Date();
  const diff = now - targetDate;

  if (diff < 0) {
    counterInner.innerHTML = "时间尚未到达";
    return;
  }

  const days = Math.floor(diff / (1000 * 60 * 60 * 24));
  const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
  const minutes = Math.floor((diff / (1000 * 60)) % 60);
  const seconds = Math.floor((diff / 1000) % 60);

  counterInner.innerHTML =
    `${days} 天 ${hours} 小时 ${minutes} 分钟 ${seconds} 秒`;
}

themeToggle.onclick = () => {
  document.body.classList.toggle('light');
};

notifyBtn.onclick = () => {
  if (Notification.permission === "granted") {
    new Notification("爱上你的那一天", {
      body: counterInner.innerText
    });
  } else {
    Notification.requestPermission();
  }
};

resetBtn.onclick = () => {
  targetDate = new Date(defaultDate);
  notificationInfo.innerText = "计时器已重置";
};

updateCounter();
setInterval(updateCounter, 1000);
</script>

</body>
</html>
